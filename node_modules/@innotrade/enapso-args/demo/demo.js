// Innotrade Enapso - Smart Arguments Processor Demo
// (C) Copyright 2019-2020 Innotrade GmbH, Herzogenrath, NRW, Germany
// Author: Alexander Schulze

const
    { enargs } = require('../index')
    ;

global.enGetArgs = enargs.getArgs;

const
    schemaSingleStringArg = {
        args: [
            {
                "identifier": "text",
                "type": "string",
                "required": false,
                "default": "default value",
                "minLength": 0,
                "maxLength": 20
            }
        ]
    };

/*
"types": [
{
    "type": "string",
    "required": false,
    "default": "default value",
    "minLength": 0,
    "maxLength": 20
}
],
*/

function logValidationViolation(err) {
    if (err) {
        console.error('Error: ' + err.message + ' Value: ' + err.value);
    }
}

function demoSingleStringArg(/*text*/) {
    let args = enGetArgs(arguments, schemaSingleStringArg, logValidationViolation);
    console.log('demoSingleStringArg: ' + args.text);
}

function demo() {
    demoSingleStringArg("Test");
    demoSingleStringArg(1);
    demoSingleStringArg(true);
    demoSingleStringArg();
    // test2(argSet1);
}

demo();
